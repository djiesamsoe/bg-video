/*! BgVideo 2014-05-28 */
var BgVideo,root;root="undefined"!=typeof exports&&null!==exports?exports:this,$.supportsVideo=function(){return!!document.createElement("video").canPlayType},BgVideo=function(){function a(a,b,c){this.$elm=a,this.$detachedElm=null,this.settings={sources:[],cssPosition:"absolute",alignment:"top left",hideBodyScrollbars:!0},this.attributes={autoplay:"autoplay",controls:!1,loop:"loop",muted:"muted",poster:null,preload:"auto"},this.settings=$.extend(this.settings,b),this.attributes=$.extend(this.attributes,c),this.settings.hideBodyScrollbars&&$("body").css("overflow","hidden"),this.$video=this.createVideoTag(),a.append(this.$video)}var b;return b={mp4:"video/mp4",m4v:"video/mp4",ogv:"video/ogg",webm:"video/webm"},a.prototype.play=function(){return this.$video.get(0).play()},a.prototype.pause=function(){return this.$video.get(0).pause()},a.prototype.mute=function(){return this.$video.prop("muted",!0)},a.prototype.unmute=function(){return this.$video.prop("muted",!1)},a.prototype.alignmentPosition=function(){switch(this.settings.alignment){case"top right":return{top:0,right:0};case"bottom left":return{bottom:0,left:0};case"bottom right":return{bottom:0,right:0};default:return{top:0,left:0}}},a.prototype.createVideoTag=function(){var a,b,c,d,e,f;for(a=$("<video />"),b={position:this.settings.cssPosition,minWidth:"100%",minHeight:"100%",width:"auto",height:"auto",zIndex:"-1000",overflow:"hidden"},a.css($.extend(b,this.alignmentPosition())),$.each(this.attributes,function(b,c){return null!==c?a.attr(b,c):void 0}),f=this.settings.sources,d=0,e=f.length;e>d;d++)c=f[d],this.appendSource(a,c);return a},a.prototype.appendSource=function(a,b){var c;return c=this.detectMimeType(b),$("<source />").attr("src",b).attr("type",c).appendTo(a)},a.prototype.detectMimeType=function(a){var c;return c=a.split(".").pop().toLowerCase(),b[c]},a.prototype.destroy=function(){return this.pause(),this.$video.remove()},a.prototype.detach=function(){return this.pause(),this.$detachedElm=this.$video.detach()},a.prototype.reAttach=function(){return null!=this.$detachedElm?(this.$elm.append(this.$video),this.play(),this.$detachedElm=null):void 0},a}(),root.BgVideo=BgVideo;